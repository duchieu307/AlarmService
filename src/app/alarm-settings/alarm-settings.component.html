<form [formGroup]="alarmForm">
  <h1>Tao lich tao lich</h1>
  <div class="form-group">
    <label class="control-label">Tên sự kiện</label>
    <input
      formControlName="eventName"
      placeholder="Nhập tên sự kiện"
      type="text"
      class="form-control"
    />
  </div>

  <div class="form-group form-row">
    <div class="col-md-6">
      <input
        type="text"
        placeholder="Chọn ngày đi ạ"
        class="form-control mt-5"
        bsDatepicker
      />
    </div>
    <div class="col-md-6">
      <h3>Chọn thời gian</h3>
      <div class="mb-5" *ngFor="let moment of numberOfMoment">
        <label class="control-label"
          >Thời điểm {{ numberOfMoment.indexOf(moment) + 1 }}</label
        >
        <timepicker
          formControlName="formTime"
          [showSeconds]="showSec"
        ></timepicker>
      </div>
      <span class="add-moment-button" (click)="addMoment()"
        >Thêm thời điểm</span
      >
    </div>
  </div>

  <div class="from-group">
    <label class="radio-inline mr-4">
      <input
        (click)="turnOffRepeatUi()"
        class="mr-2"
        type="radio"
        value="false"
        formControlName="repeat"
        checked="checked"
      />Không lặp lại
    </label>
    <label class="radio-inline mr-4">
      <input
        (click)="turnOnRepeatUi()"
        class="mr-2"
        type="radio"
        value="true"
        formControlName="repeat"
      />Lặp lại
    </label>
  </div>

  <!-- Lặp lại theo ngày -->
  <div *ngIf="repeatUi" class="form-group mt-3">
    <div class="row">
      <h3>Lặp lại theo ngày</h3>
    </div>
    <div class="form-inline mt-2">
      <div class="col row">
        <span>Không lặp</span>
        <input
          class="ml-2 mt-2"
          type="radio"
          value="false"
          formControlName="repeatDay"
        />
      </div>
      <div class="col row">
        <span>Hàng ngày</span>
        <input
          class="ml-2 mt-2"
          type="radio"
          value="1"
          formControlName="repeatDay"
        />
      </div>
      <div class="col row">
        <span>Mỗi</span>
        <input class="form-control" type="number" formControlName="repeatDay" />
        <span>ngày</span>
      </div>
    </div>
  </div>
  <div *ngIf="repeatUi" class="row mb-5">
    <div class="col-md-3"></div>
    <div class="col-md-6">
      <div class="btn-group button-repeat" dropdown>
        <button
          id="button-basic"
          dropdownToggle
          type="button"
          class="btn btn-primary dropdown-toggle"
          aria-controls="dropdown-basic"
        >
          Lặp lại <span class="caret"></span>
        </button>
        <ul
          id="dropdown-basic"
          *dropdownMenu
          class="dropdown-menu"
          role="menu"
          aria-labelledby="button-basic"
        >
          <li role="menuitem">
            <label for="repeat-time">
              <button
                class="btn btn-primary dropdown-item"
                (click)="openModal(template)"
              >
                Theo thời gian
              </button>
              <input
                id="repeat-time"
                class="repeat-action"
                type="radio"
                formControlName="repeatAction"
                name="repeatAction"
                value="time"
              />
            </label>
          </li>
          <li role="menuitem">
            <label for="repeat-daily" class="btn btn-primary dropdown-item">
              Hàng ngày
              <input
                id="repeat-daily"
                class="repeat-action"
                type="radio"
                formControlName="repeatAction"
                name="repeatAction"
                value="daily"
              />
            </label>
          </li>
          <li role="menuitem">
            <label for="repeat-weekly" class="btn btn-primary dropdown-item">
              Hàng tuần
              <input
                id="repeat-weekly"
                class="repeat-action"
                type="radio"
                formControlName="repeatAction"
                name="repeatAction"
                value="weekly"
              />
            </label>
          </li>
          <li role="menuitem">
            <label for="repeat-twoWeek" class="btn btn-primary dropdown-item">
              Hai tuần một lần
              <input
                id="repeat-twoWeek"
                class="repeat-action"
                type="radio"
                formControlName="repeatAction"
                name="repeatAction"
                value="twoWeek"
              />
            </label>
          </li>
          <li role="menuitem">
            <label for="repeat-mothly" class="btn btn-primary dropdown-item">
              Hàng tháng
              <input
                id="repeat-monthly"
                class="repeat-action"
                type="radio"
                name="repeatAction"
                formControlName="repeatAction"
                value="monthly"
              />
            </label>
          </li>
          <li role="menuitem">
            <label for="repeat-custom" class="btn btn-primary dropdown-item">
              Tùy chỉnh
              <input
                id="repeat-custom"
                class="repeat-action"
                type="radio"
                formControlName="repeatAction"
                name="repeatAction"
                value="custom"
              />
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="col-md-3"></div>
  </div>

  <!-- Modals cho lặp lại theo ngày -->
  <!-- <ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Large modal</h4>
      <button
        type="button"
        class="close pull-right"
        aria-label="Close"
        (click)="modalRef.hide()"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body form-group mt-3">
      <div class="row">
        Sau này sửa thành giống cái spinner của timepicker cho đẹp
      </div>
      <div class="form-inline mt-2">
        <div class="col">
          <span>Mỗi</span>
          <input
            class="form-control"
            type="number"
            formControlName="repeatHour"
          />
          <span>giờ</span>
        </div>
        <div class="col">
          <span>Mỗi</span>
          <input
            class="form-control"
            type="number"
            formControlName="repeatMinute"
          />
          <span>phút</span>
        </div>
        <div class="col">
          <span>Mỗi</span>
          <input
            class="form-control"
            type="number"
            formControlName="repeatSecond"
          />
          <span>giây</span>
        </div>
      </div>
    </div>
  </ng-template> -->
  <button type="button" class="btn btn-primary" (click)="openModal(template)">
    Create template modal
  </button>

  <ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Modal</h4>
      <button
        type="button"
        class="close pull-right"
        aria-label="Close"
        (click)="modalRef.hide()"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body form-group mt-3">
      <div class="row">
        Sau này sửa thành giống cái spinner của timepicker cho đẹp
      </div>
      <div class="form-inline mt-2">
        <div class="col">
          <span>Mỗi</span>
          <input
            class="form-control"
            type="number"
            formControlName="repeatHour"
          />
          <span>giờ</span>
        </div>
        <div class="col">
          <span>Mỗi</span>
          <input
            class="form-control"
            type="number"
            formControlName="repeatMinute"
          />
          <span>phút</span>
        </div>
        <div class="col">
          <span>Mỗi</span>
          <input
            class="form-control"
            type="number"
            formControlName="repeatSecond"
          />
          <span>giây</span>
        </div>
      </div>
    </div>
  </ng-template>

  <p>Sau này sẽ là cái nhắc lại trước khi submit</p>
  <pre
    class="alert alert-info"
  >Time is: {{myTime}}<br>showMinutes: {{showMin}}<br>showSeconds: {{showSec}}</pre>
</form>
